<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<HTML><HEAD><TITLE>Переходы</TITLE>
<link rel="stylesheet" type="text/css" href="../../style/style.css">
<META http-equiv=Content-Type content="text/html; charset=windows-1251">

</HEAD>
<BODY topMargin=0 >
<TABLE
style="BORDER-RIGHT: medium none; BORDER-TOP: medium none; BORDER-LEFT: medium none; BORDER-BOTTOM: #c0c0c0 1px solid"
height=121 cellSpacing=0 cellPadding=0 width=640>
  <TBODY>
  <TR>
    <TD vAlign=top width="100%"><IMG
      src="img/ru/logo2.jpg" width="640" height="121" border=0 class="conthdr" ></TD>
</TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width=640 border=0>
  <TBODY>

  <TD width="100%" height="100%" vAlign=top>
   <DIV><IMG
      src="img/ru/old/articles/articles.png" width="640" height="33"></DIV>


      <TABLE cellSpacing=0 cellPadding=0 width="100%">
        <TBODY>
        <TR>
          <TD width=5><IMG height=36
            src="img/ru/mtdl.png" width=5></TD>
          <TD class=ntitle vAlign=top
          background="mtdbg.png" height=36>   Переходы </TD>
          <TD width=5><IMG height=36
            src="img/ru/mtdr.png"
      width=20></TD></TR></TBODY></TABLE>
      <TABLE cellSpacing=0 cellPadding=0 width="100%">
        <TBODY>
        <TR>
          <TD width=5 background="ltd.gif"></TD>

          <TD class=news vAlign=top><p>   Существует три  варианта переходов:
<br><br>
  1. <a href="#jump_if">условные</a> - 004d: jump_if_false <span class="general1-label">@label</span><br>
  2. <a href="#jump">безусловный</a> - <span class="general1-reservedword">jump</span> <span class="general1-label">@label</span><br>
  3. <a href="#gosub">переход с возвратом</a> (вызов процедуры) - <span class="general1-reservedword">gosub</span> <span class="general1-label">@Label </span></p>
<p><span class="general1-reservedword"><a name="jump_if"></a>Условные переходы</span> применяются в проверках, например:</p>
<div class="mycode5">
<span class="general1-reservedword">if</span><br>
  &lt; -- условие --&gt;<br>
  004d:  jump_if_false <span class="general1-label">@label</span> <br>
  &lt;--  код --&gt;<br>
<br>
<span class="general1-label">:label</span></div>
<p>Принцип работы таков: если условие данной проверки не  выполнено, то переходим на метку  <span class="general1-label">:label</span>.<br>
 Код (&lt;-- код --&gt;),  который находится ниже 004d:  jump_if_false <span class="general1-label">@label</span>,
  не выполняется. </p>
<p><span class="general1-reservedword"><a name="jump"></a>Безусловный переход</span> - <span class="general1-reservedword">jump</span> <span class="general1-label">@label</span>, в отличии от условного перехода он выполняется в любом  случае.</p>
<div class="mycode5">
&lt;-- код --&gt;<br>
  <span class="general1-reservedword">jump</span> <span class="general1-label">@label</span><br>
  &lt;-- код1 --&gt; <span class="general1-comment">// эта строка игнорируется</span></div>
<p>такая запись бессмысленна,  поскольку &lt;-- код1 --&gt; никогда не будет  выполнен.</p>
<p>К примеру, есть   необходимость при выполнении условия игнорировать &lt;--код провала--&gt;:</p>
<div class="mycode5">
<span class="general1-reservedword">if</span><br>
  &lt; -- условие --&gt;<br>
  004d:  jump_if_false <span class="general1-label">@label</span> <br>
  &lt;--  код --&gt;<br>
  <span class="general1-reservedword">jump</span> <span class="general1-label">@label_1</span>
  <br>
<br>
<span class="general1-label">:label</span><br>
  &lt;-- код провала--&gt;<br>
  <span class="general1-reservedword">jump</span> <span class="general1-label">@label_3</span>  <span class="general1-comment">//выход </span><br>
<br>
<span class="general1-label">:label_1</span></div>
<p>В случае выполнения условия переходим на метку <span class="general1-label">:label_1</span>, то есть &lt;-- код провала--&gt;  (метка  <span class="general1-label">:label</span>) не выполняется.</p>
<p><span class="general1-reservedword"><a name="gosub"></a>Переход с возвратом (вызов процедуры)</span> - <span class="general1-reservedword">gosub</span> <span class="general1-label">@Label</span>.<br>
<br><span class="general1-reservedword">gosub</span> – это переход с  возвратом на следующую после  <span class="general1-reservedword">gosub</span> <span class="general1-label">@Метка</span> строку.<br>
  <span class="general1-reservedword">gosub</span> всегда  работает в паре с <span class="general1-reservedword">return</span>.</p>
<div class="mycode5"><span class="general1-label">:Lable </span><br>
  <span class="general1-reservedword">gosub</span> <span class="general1-label">@Label_1</span>  <span class="general1-comment">//  переход на метку Label_1  </span><br>
  &lt; -- код --&gt;<br>
  <span class="general1-comment">// этот код будет  выполнен только после того,<br>// как отработает пара  gosub @Label_1 - return</span><br>
  <span class="general1-reservedword">jump</span>  <span class="general1-label">@Label_2</span><span class="general1-comment"> // Безусловный переход на метку :Label_2</span><br>
<br>
<span class="general1-label">:Label_1 </span>    <br>
  &lt; -- код 1--&gt;      <br>
  <span class="general1-reservedword">return</span>  <span class="general1-comment">//–  возврат на следующую после gosub @Label_1  строку <br>
  </span><br>
  <span class="general1-label">:Label_2</span> </div>   
  <br>
  В San Andreas  поддерживается до 8 вложенных <span class="general1-reservedword">gosub</span>. <br>
<br>  Принцип работы:<br>
<div class="mycode5"><span class="general1-label">:Lable</span> <br>
  <span class="general1-reservedword">gosub</span> <span class="general1-label">@Label_1 </span> <span class="general1-comment">// (1) – переход на метку Label_1  </span><br>
  &lt; -- код --&gt;   <span class="general1-comment">// последним будет выполнен этот код </span>   <br>
  <span class="general1-reservedword">jump</span> <span class="general1-label">@Label_4</span>  <br>
  <br>
  <span class="general1-label">:Label_1</span>     <br>
  <span class="general1-reservedword">gosub</span> <span class="general1-label">@Label_2</span>   <span class="general1-comment">//  (2) – переход на метку Label_2 </span> <br>
  &lt; -- код --&gt;      <br>
  <span class="general1-reservedword">return</span> <span class="general1-comment">// (1) – возврат на следующую после  gosub (1) строку</span><br>
<br>
<span class="general1-label">:Label_2 </span>   <br>
  <span class="general1-reservedword">gosub</span> <span class="general1-label">@Label_3</span> <span class="general1-comment">  // (3) – переход на метку Label_3  </span><br>
  &lt; -- код  --&gt;  <br>
  <span class="general1-reservedword">return</span>  <span class="general1-comment">// (2) -  возврат на следующую после gosub  (2) строку</span><br>
<br>
<span class="general1-label">:Label_3  </span> <br>
  &lt; -- код  --&gt;      <br>
  <span class="general1-reservedword">return </span> <span class="general1-comment">// (3) - возврат на следующую после gosub (3) строку</span></div>
<p>В примере показана работа трех вложенных  <span class="general1-reservedword">gosub</span>. Команда  <span class="general1-reservedword">return</span>  будет отрабатывать в обратном порятке, то  есть сначала отработает пара <span class="general1-reservedword">gosub</span>  <span class="general1-label">@Label_3</span> - <span class="general1-reservedword"> return</span>   <span class="general1-comment">// (3)</span>, затем пара <span class="general1-reservedword">gosub</span>  <span class="general1-label">@Label_2</span> -  <span class="general1-reservedword">return</span>   <span class="general1-comment">// (2)</span> и только после этого отработает пара <span class="general1-reservedword">gosub</span> <span class="general1-label">@Label_1</span> -  <span class="general1-reservedword">return</span>   <span class="general1-comment">// (1)</span>   </p>
<p>  Говоря проще каждому <span class="general1-reservedword">gosub</span> соответствует свой <span class="general1-reservedword">return</span>.</p>

</TD>
          <TD width=5
        background="rtd.gif"></TD></TR></TBODY></TABLE>
      <TABLE cellSpacing=0 cellPadding=0 width="100%">
        <TBODY>
        <TR>
          <TD width=5><IMG height=20
            src="img/ru/mtdlbot.png" width=5 border=0></TD>
          <TD align=left
            background="mtdbgbot.png"></TD>
          <TD class=ninfo align=right
          background="mtdbgbot.png">&nbsp;
            </TD>
          <TD width=5><IMG height=20
            src="img/ru/mtdrbot.png" width=5
        border=0></TD></TR></TBODY></TABLE></DIV>
<BR><BR></TD></TR><td width="100%"></TBODY></TABLE>
</TABLE></body></html>
