<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<HTML><HEAD><TITLE>События актёров</TITLE>
<link rel="stylesheet" type="text/css" href="../../style/style.css">
<META http-equiv=Content-Type content="text/html; charset=windows-1251">
<script language="javascript" type="text/javascript" src="img/ru/clipboard.js"></script>
</HEAD>
<BODY topMargin=0 >
<TABLE
style="BORDER-RIGHT: medium none; BORDER-TOP: medium none; BORDER-LEFT: medium none; BORDER-BOTTOM: #c0c0c0 1px solid"
height=121 cellSpacing=0 cellPadding=0 width=640>
  <TBODY>
  <TR>
    <TD vAlign=top width="100%"><IMG
      src="img/ru/logo2.jpg" width="640" height="121" border=0 class="conthdr" ></TD>
  </TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width=640 border=0>
  <TBODY>

  <TD width="100%" height="100%" vAlign=top>
   <DIV><IMG
      src="img/ru/old/articles/articles.png" width="640" height="33"></DIV>


      <TABLE cellSpacing=0 cellPadding=0 width="100%">
        <TBODY>
        <TR>
          <TD width=5><IMG height=36
            src="img/ru/mtdl.png" width=5></TD>
          <TD class=ntitle vAlign=top
          background="mtdbg.png" height=36> События актёров</TD>
          <TD width=5><IMG height=36
            src="img/ru/mtdr.png"
      width=20></TD></TR></TBODY></TABLE>
      <TABLE cellSpacing=0 cellPadding=0 width="100%">
        <TBODY>
        <TR>
          <TD width=5 background="ltd.gif"></TD>
          <TD class=news vAlign=top><p>


События актёров применяются в скриптинге но редко, в большинстве случаев можно обойтись и без
них.Принцип таков, что надо вычислить действие актёра, и исходя из этого действия сделать к-л вывод.<br><br>

Насколько мне известно есть всего две команды работы с событиями актёров:<br>
  В переменную записывается текущее событие актёра:<br>
     080E: get_actor <span class="general1-variable">$PLAYER_ACTOR</span> ped_event_to <span class="general1-variable">1@</span><br>
      <br>

 А вот и номера игровых событий актёров, я взял, то, что было в файле PedEvents.txt :<br><br>

Выходит из машины или тяниться из неё <strong>7</strong> <br>
Удар от велосипеда или от падения <strong>8</strong><br>
Повреждение актёра  <strong>9</strong> <br>
Актёр помер <strong>11</strong> <br>
Перезарядка <strong>12 </strong><br>
Просто идёт,как прохожий <strong>13 </strong><br>
Актёр фотографирует <strong>15 </strong><br>
Актёр залез в тачку игрока <strong>17 </strong><br>
Проститутка <strong>20</strong> <br>
Актёра что-либо привлекает <strong>27 </strong><br>
Угроза столкновения с транспортным средством <strong>30</strong><br>
Направленность прожектора на игрока <strong>31</strong> <br>
Актёр подпрыгивает <strong>33</strong> <br>
Актёр в ярости <strong>36</strong> <br>
Актёр в ярости и уже нападает <strong>37</strong> <br>
Типа предыдущих <strong>38</strong><br>
Актёр уважает кого-либо <strong>39</strong> <br>
Машина актрёра повреждена оружеем <strong>41</strong><br>
Специальный случай <strong>42</strong> <br>
Актёра сбил автомобиль <strong>43</strong> <br>
Актёр идёт с к-л целью <strong>44</strong> <br>
Актёр бежит,увидив огонь <strong>46</strong><br>
Подготовка события для привлечения к нему актёра <strong>48</strong> <br>
Актра фотографируют <strong>49</strong> <br>
Неизвестно (низко) <strong>50</strong> <br>
Неизвестно (высоко)<strong>51</strong> <br>
Здоровье актёра мало <strong>52</strong> <br>
Типа предыдущего <strong>53</strong> <br>
Актёр сел в автомобиль,как водитель <strong>54</strong><br>
Актёр вылез из автомобиля с места водителя <strong>55</strong> <br>
Актёр едет в авто <strong>56</strong> <br>
Актёр вблизи огня <strong>59 </strong><br>
Актёр слышит громкий звук <strong>61</strong><br>
Актёр слышит тихий звук <strong>62</strong> <br>
Актёр в ярости <strong>63 </strong><br>
Актёр паникует <strong>65 </strong><br>
Актёр как бы лидер группы <strong>71</strong> <br>
Актёр замечен полицейским <strong>72</strong> <br>
Машина актёра столкнулась с другой машиной <strong>73</strong> <br>
Актёру что-то угрожает <strong>75 </strong><br>
Актёру дана команда присоединиться у группе <strong>76</strong> <br>
Актёр убегает из транспортного средства, когда то загорается <strong>79</strong> <br>
<br>


Вот мой	скрипт проверки событий игрока:</p>
<div  class="imgcursor" align="right"><span class="kbd"><img src="img/ru/ico_cb.gif" alt="Copy to Clipboard" width="16" height="16"  onClick="ClipBoard();"  ></span>
<TEXTAREA ID="holdtext" STYLE="display:none;"></TEXTAREA></div>
<div class=mycode5>
<pre id="copytext" class="NON"><span class="general1-reservedword">create_thread</span> <span class="general1-label">@PEVENT</span>


<span class="general1-label">:PEVENT</span>
<span class="general1-reservedword">wait</span> <span class="general1-number">5000</span>

<span class="general1-label">:PEVENT_2</span>
<span class="general1-reservedword">wait</span> <span class="general1-number">100</span>
<span class="general1-reservedword">if</span>
<span class="general1-class">Player</span>.<span class="general1-command">Defined</span>(<span class="general1-variable">$PLAYER_CHAR</span>)
<span class="general1-reservedword">jf</span> <span class="general1-label">@PEVENT_2</span>
080E: get_actor <span class="general1-variable">$PLAYER_ACTOR</span> ped_event_to <span class="general1-variable">$1</span>
04F7: status_text <span class="general1-variable">$1</span> type <span class="general1-number">0</span> line <span class="general1-number">2</span> GXT <span class="general1-string">'NOTHING'</span>
<span class="general1-reservedword">jump</span> <span class="general1-label">@PEVENT_2</span></pre>
</div>
<br>

   </TD>
          <TD width=5
        background="rtd.gif"></TD></TR>
        </TBODY></TABLE>
      <TABLE cellSpacing=0 cellPadding=0 width="100%">
        <TBODY>
        <TR>
          <TD width=5><IMG height=20
            src="img/ru/mtdlbot.png" width=5 border=0></TD>
          <TD align=left
            background="mtdbgbot.png"></TD>
          <TD class=ninfo align=right
          background="mtdbgbot.png">&nbsp;
            </TD>
          <TD width=5><IMG height=20
            src="img/ru/mtdrbot.png" width=5
        border=0></TD></TR></TBODY></TABLE></DIV>
<BR><BR></TD></TR><td width="100%"></TBODY></TABLE>
</TABLE></body></html>
