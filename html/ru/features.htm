<!DOCTYPE HTML>
<html>
<head>
    <title>Возможности</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="../../style/style2.css">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
</head>
<body>

<h2>Возможности</h2>
<p>Sanny Builder как среда программирования предоставляет пользователю следующие возможности:</p>

<h3><a name="highlighter"></a>Подсветка синтаксиса</h3>
<p>Sanny Builder подсвечивает код разными цветами, чтобы облегчить работу с ним. Настройки подсветки могут быть изменены в <a href="O_104.htm">опциях программы</a>.</p>

<h3>Быстрый переход по тексту</h3>
<p>Для этого есть два способа:</p>
<ol><li>Установить на нужной строке закладку комбинацией клавиш Ctrl + Shift + &lt;0..9&gt;, а затем быстро перейти к этой строке комбинацией Ctrl + &lt;0..9&gt;. Удалить все закладки можно через меню Правка -&gt; Удалить закладки.</li>
    <li>Через опцию 'Перейти...'. Она вызывается комбинацией Ctrl+G. Введите порядковый номер нужной строки, и редактор быстро переместит Вас к ней.</li></ol>

<h3><a name="jumpLabel" id="jumpLabel">Моментальный поиск</a></h3>
<p>Моментальный поиск позволяет находить слово или метку прямо в редакторе без вызова диалога Поиска.</p>
<p>Чтобы найти в тексте другое вхождение слова под курсором, нажмите Ctrl + Num6 чтобы искать его ниже по тексту или Ctrl + Num4 чтобы искать выше. Курсор немедленно переместится к строке, где есть такое слово. Продолжайте нажимать Ctrl + Num4/Num6 чтобы найти другие строки с нужным словом.</p>

<p>Чтобы перейти к строке, обозначенной меткой (например, :MyLabel), поместите курсор на ссылку на эту метку (@MyLabel) и нажмите Ctrl + Num2. Редактор немедленно переместит курсор к строке с искомой меткой.</p>

<p>Если позиция курсора не изменилась, это означает, что моментальный поиск не смог найти нужное слово в тексте.</p>

<p>Перед изменением позиции курсора моментальный поиск запоминает текущую позицию, и если вы решили вернуться на предыдущее место, нажмите Ctrl + Num8.</p>

<h3><a name="IDE"></a>Показ различной информации о текущем опкоде</h3>
<p>При включенной опции <a href="O_103.htm#IDE">Показывать информацию об опкодах</a> Sanny Builder показывает количество параметров для опкода и, если курсор находится над именем модели, цифрового значения модели (только для моделей из IDE-файлов и только когда определена директория игры).</p>

<h3>Конвертирование исходников SA Mission Builder</h3>
<p>В текущей версии поддерживается формат SAMB 0.33. Для конвертации откройте файл в Sanny Builder и выберите пункт меню "Сервис->Конвертация->MB->SB". Также можно конвертировать отдельный, выделенный участок кода. Внимание: при конвертировании используется файл MB.ini, в котором содержатся текстовые имена переменных и значения адресов памяти. Если Вы добавляли свои переменные в файл variables.ini в SAMB 0.33, используйте его (переименовав в файл MB.ini).</p>

<h3>Поиск нужного опкода</h3>
<p>Используйте <a href="opcode_search.htm">программу поиска опкодов</a>, чтобы найти нужный опкод.</p>

<h3><a name="Player coords managing"></a>Изменение координат и угла разворота игрока</h3>
<p>Нажмите Ctrl+Alt+1, когда запущена игра, и появится окно менеджера. Здесь вы можете установить новые координаты и угол разворота и скопировать текущие.<br> В верхнем поле ввода вы можете указать сразу 3 координаты, разделив их пробелом или ",".<br>Также вы можете быстро вставить координаты игрока в текст комбинацией Ctrl+Shift+C. Вставка угла разворота (z_angle) в текст производится нажатием Ctrl+Shift+E</p>

<h3><a name="Macrorecorder">Поддержка макросов</a></h3>
<p>Иногда скриптеру необходимо писать одни и те же строки кода, например для загрузки моделей. Чтобы сократить время написания такого кода, вы можете вызвать специальный макрос, который вставит в редактор нужный код. Для этого напишите ключевое слово, соответствующее этому макросу, например load и нажмите F2. В редакторе появится код</p>

<pre><span class="model">#</span>.<span class="command">Load</span>

<span class="reservedword">while not</span> <span class="model">#</span>.<span class="command">Available</span><br>
  <span class="reservedword">wait</span> <span class="number">0</span><br>
<span class="reservedword">end</span></pre>
Вам останется только написать нужное имя модели в качестве параметра.

<p class="note">Список используемых макросов содержится в файле 'macroes.txt'. В нем используется следующий синтаксис:<br>Имя макроса (ключевое слово) пишется отдельной строкой. После имени должен стоять знак равно (=). После знака = можно добавить краткое описание макроса. Поддерживаются только однострочные описания. После строки с именем записывается содержимое макроса, каждая строка обозначается символом =. Место, куда должен быть помещен курсор после вставки обозначается символом |.</p>

<p>Также можно добавить свой макрос в файл 'macroes.txt' прямо из редактора. Для этого достаточно выделить нужный кусок текста и выбрать меню "Сервис->Добавить макрос". В появившемся диалоговом окне вы должны ввести имя нового макроса (вместе или без описания) и нажать кнопку OK. Новый макрос будет сразу же готов к использованию.</p>

<p>В ходе работы можно вызвать список макросов комбинацией Ctrl+J.</p>

<p>Также существует возможность запоминать последовательность нажатия любых клавиш и потом вопроизводить ее в том же порядке.</p>
<p>Например, у вас есть код:</p>
<pre>
<span class="variable">$Actor</span><span class="space"> = </span><span class="class">Actor</span><span class="symbol">.</span><span class="command">Create</span><span class="symbol">(CivMale, </span><span class="model">#MALE01</span><span class="symbol">, </span><span class="number">100.0</span><span class="symbol">, </span><span class="number">100.0</span><span class="symbol">, </span><span class="number">10.0</span><span class="symbol">)
</span><span class="variable">$ActorWithGun</span><span class="space"> = </span><span class="class">Actor</span><span class="symbol">.</span><span class="command">Create</span><span class="symbol">(CivMale, </span><span class="model">#MALE01</span><span class="symbol">, </span><span class="number">110.0</span><span class="symbol">, </span><span class="number">100.0</span><span class="symbol">, </span><span class="number">20.0</span><span class="symbol">)
</span><span class="variable">$Gang01</span><span class="space"> = </span><span class="class">Actor</span><span class="symbol">.</span><span class="command">Create</span><span class="symbol">(CivMale, </span><span class="model">#MALE01</span><span class="symbol">, </span><span class="number">120.0</span><span class="symbol">, </span><span class="number">100.0</span><span class="symbol">, </span><span class="number">30.0</span><span class="symbol">)
</span><span class="variable">$Gang02</span><span class="space"> = </span><span class="class">Actor</span><span class="symbol">.</span><span class="command">Create</span><span class="symbol">(CivMale, </span><span class="model">#MALE01</span><span class="symbol">, </span><span class="number">130.0</span><span class="symbol">, </span><span class="number">100.0</span><span class="symbol">, </span><span class="number">40.0</span><span class="symbol">)
</span><span class="variable">$Killer</span><span class="space"> = </span><span class="class">Actor</span><span class="symbol">.</span><span class="command">Create</span><span class="symbol">(CivMale, </span><span class="model">#MALE01</span><span class="symbol">, </span><span class="number">140.0</span><span class="symbol">, </span><span class="number">100.0</span><span class="symbol">, </span><span class="number">50.0</span><span class="symbol">)
</span><span class="variable">$ActorWithoutGun</span><span class="space"> = </span><span class="class">Actor</span><span class="symbol">.</span><span class="command">Create</span><span class="symbol">(CivMale, </span><span class="model">#MALE01</span><span class="symbol">, </span><span class="number">150.0</span><span class="symbol">, </span><span class="number">100.0</span><span class="symbol">, </span><span class="number">60.0</span><span class="symbol">) </span></pre>
<p>Допустим, Вам нужно обменять имена актеров в кажой паре (поставить вместо $Actor $ActorWithGun, а вместо $ActorWithGun - $Actor и т.д.). Путем записи макроса можно сократить время написания такого кода.</p>
<p>Поставьте курсор на первую строку и нажмите Ctrl+M. С этого момента редактор запоминает все нажатия клавиш, так что будьте осторожны.<br>
    - Зажмите Ctrl и нажмите один раз стрелку вправо. Ctrl нужен так как
    строки разной длины. <br>
    - Теперь нажмите Shift+Home и Ctrl+Ins. <br>
    - Нажмите стрелку вниз. Вы должны оказаться на второй строке, при этом
    глобальная переменная будет в буфере обмена. <br>
    - Нажмите Ctrl+стрелка вправо и Shift+Ins.<br>
    - Нажмите Ctrl+стрелка влево, Shift+Home, Ctrl+Ins и кнопку Delete<br>
    - Нажмите стрелку вверх<br>
    - Нажмите Ctrl+Shift+стрелка вправо и Shift+Ins<br>
    - Нажмите кнопку Home.<br></p>

<p>Теперь первые две строки выглядят так:</p>
<pre><span class="variable">$ActorWithGun</span> = <span class="class">Actor</span>.<span class="command">Create</span>(CivMale, <span class="number">100.0</span>, <span class="number">100.0</span>, <span class="number">10.0</span>)
<span class="variable">$Actor</span> = <span class="class">Actor</span>.<span class="command">Create</span>(CivMale, <span class="number">110.0</span>, <span class="number">100.0</span>, <span class="number">20.0</span>)</pre>
<p>и курсор стоит в начале первой строки. Теперь нажмите Ctrl+M. Макрос записан. Теперь вы можете воспроизводить нажатия клавиш комбинацией Ctrl+P. Установите курсор на 3-ю строку, нажмите Ctrl+P и имена актеров поменяются местами.</p>
<p>Во время записи макроса можно поставить/снять запись на паузу нажатием Ctrl+P.</p>

<h3><a name="MISSION"></a>Замена номеров миссий на их имена</h3>
<p>Sanny Builder допускает использовать вместо номера миссии ее имя. Именем миссии явлется имя ее метки, которая определена в блоке
    DEFINE MISSION.</p>
<p>Например, у вас есть</p>
<pre>DEFINE MISSION <span class="number">10</span> AT <span class="label">@MYMISSION</span></pre>
<p>Вы можете использовать вместо <span class="reservedword">start_mission</span> <span class="number">10</span> команду <span class="reservedword">start_mission</span> MYMISSION.</p>
<p>В SB добавлена опция <a href="O_101.htm#mission">Заменять номера миссий</a>. Когда она включена, декомпилятор автоматически заменяет все номера миссий в коде на их имена. Эта опция дает возможность безболезненно удалять миссии, не заботясь о переименовывании всех последующих номеров в коде.</p>
<p>Для дополнительного удобства в строке start_mission можно вызвать список имен миссий и их номеров нажатием Ctrl+[space].</p>
<p>Также можно использовать <a href="#jumpLabel">моментальный поиск</a> для перехода к миссии на нее саму.</p>

<h3><a name="mission_names">Изменение оригинальных названий миссий</a></h3>
<p>При декомпиляции файла main.scm Sanny Builder дописывает к строке с миссией ее оригинальное название в качестве комментария. Начиная с версии 3.2.0 для каждого <a href="edit_modes.htm">режима редактирования</a> можно создавать собственные списки названий. Имена миссий содержатся в файле missions.txt, расположенном в папке data\&lt;игра&gt;. Если вам нужно декомпилировать main.scm с измененными миссиями,  отредактируйте этот файл как вам нужно.</p>

<h3>Многоязычный интерфейс</h3>
<p>Sanny Builder обладает интерфейсом, переведенным на 15 языков. Переключить язык можно в <a href="O_101.htm#lang">опциях программы (F10)</a>. Информация по созданию своего перевода содержится в файле 'lang\How to translate.txt'.</p>

<h3>Меню внешних приложений</h3>
<p>Вы можете добавить в меню Инструменты до 9 внешних приложений и запускать по мере необходимости. Каждому приложению можно присвоить комбинацию горячих клавиш и ряд параметров, необходимых для запуска.</p>
<p>В качестве параметра запускаемого приложения может использоваться специальное слово: $SB_FileName. Оно обозначает имя текущего открытого файла и может быть передано во внешнее приложение.</p>

<h3><a name="CodeComments"></a>Комментирование кода</h3>
<p>Комментарии обозначаются  в коде двойным слешем //. Все, что идет после данного знака до конца строки, игнорируется компилятором.</p>
<p>Для того чтобы закомментировать несколько строк сразу либо только часть строки (например в середине или начале) вы можете использовать блочные комментарии {}</p>
<pre>0001: <span class="reservedword">wait</span>  <span class="comment">{это игнорируется}</span> <span class="number">0</span> ms</pre>
<p>Начиная с версии 3.06 Sanny Builder поддерживает <i>C++</i>-подобные комментарии<b> /* &nbsp; */</b>.</p>
<pre>0001: <span class="reservedword">wait</span>  <span class="comment">/* комментарий */</span> <span class="number">0</span> ms</pre>
<p>Также вы можете закомментировать несколько строк выделив их и нажав Ctrl+Q. Для раскоментирования выделите текст и нажмите Ctrl+Q еще раз.</p>

<h3>Собственные имена для меток</h3>
<p>Вы можете давать меткам <a href="O_102.htm#LABLE">собственные имена</a>, которые не будут зависеть от опций декомпилятора. Перечень имен содержится в файле CustomLabels.ini (отдельный для каждой игры).</p>
<p class="note">Формат записи следующий:<br>
    &lt;смещение метки&gt;=&lt;имя&gt;</p>
<p>Если декомпилятор встретит метку по данному смещению, он заменит ее на указанное имя.</p>
<p>Узнать адрес метки можно включив в опциях формат меток "Смещение от начала". После декомпиляции файла, число после слова Label и будет адресом метки.</p>

<h3>Проверка обновлений</h3>
<p>Sanny Builder может проверить, доступна ли новая версия программы. Чтобы использовать эту возможность, пройдите в меню "Справка->Проверить обновления...". Программа подключится к серверу обновлений и предложит скачать и установить обновление, если оно найдено. Sanny Builder может автоматически проверять наличие обновления при запуске, если вы включите соответствующую опцию в окне меню обновлений.</p>
</body></html>
