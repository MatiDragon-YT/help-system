<!doctype html>
<html lang="es">
<head>
  <title>Arreglos</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="../../style/style.css">
</head>
<body>

Un **arreglo** representa una colección indexada de elementos del mismo tipo (llamada en el tipo de base). Puede trabajar con cualquier elemento directamente a través de su índice. Enumerada desde el 0. Las mismas solo estan soportadas en San Andreas, LCS y VCS.

## Sintaxis General

San Andreas:\
`<nombre>(<indice>,<tamaño><tipo>)`

```sb3
$index = 0
$array($index,10i) = 1
```

`<nombre>`: [variable](variables.md) local o global\
`<indice>`: cualquier variable que contenga un índice del elemento para leer o escribir\
`<tamaño>`: cualquier valor mayor que 0\
`<tipo>`: uno de los caracteres `i` `f` `s` `v`:

<table>
<thead>
<tr>
<th>Letra</th>
<th>Tipo de elemento</th>
<th>Tamaño del elemento (bytes)</th>
</tr>
</thead>
<tbody>
<tr>
<td>i</td>
<td>número entero</td>
<td>4</td>
</tr>
<tr>
<td>f</td>
<td>número decimal</td>
<td>4</td>
</tr>
<tr>
<td>s</td>
<td>cadena corta</td>
<td>8</td>
</tr>
<tr>
<td>v</td>
<td>cadena larga</td>
<td>16</td>
</tr>
</tbody>
</table>
\

Liberty City Stories, Vice City Stories:\
`<nombre>(<indice>,<tamaño>)`

{% hint style="info" %}
En LCS, VCS, los elementos de un arreglo tienen solo 4 bytes de longitud. Por lo tanto, no es necesaria una declaración de tipo.
{% endhint %}

```sb3
$index = 0
$array($index,10) = 1
```

## Declaración de Arreglo

Los arreglos se pueden declarar utilizando el constructor [`VAR..END`](variables.md#constructor-var..end):\
`var`\
`   <nombre>: array <tamaño> of <tipo>`\
`end`

```sb3
var
    $FloatArray: array 10 of Float
end
```

### Accediendo a los elementos del arreglo después de la declaración

Después de declarar un arreglo, puede acceder a sus elementos utilizando corchetes:

```sb3
var
    $FloatArray: array 10 of Float
end
$index = 1
$FloatArray[$index] += 100.0
```

### Usando índices constantes

Puedes usar números enteros positivos y cero para acceder a un elemento del arreglo en particular:

```sb3
var
    $FloatArray: array 10 of Float
end
$FloatArray[1] += 100.0
```

Se puede acceder a los elementos de un arreglo que contiene [cadenas literarias](data-types.md#cadenas-literarias) con [variables de cadena](data-types.md#variables-de-cadenas):

```sb3
// initializing first three elements of the $strings array
s$strings[0] = 'str1'
s$strings[1] = 'str2'
s$strings[2] = 'str3'
```

Un arreglo se puede declarar como una colección de [instancias de clase](classes.md#instancias-de-clase):

```sb3
var
  $players: array 2 of Player
end
$players[0].Build
```

{% hint style="info" %}

Por predeterminado, en el [modo de edición](../edit-modes/README.md) de `GTA SA`, el desensamblador imprime los elementos del arreglo con los números como índices. La misma función está en LCS y VCS, pero desactivada de forma predeterminada. Puede activar y desactivar esta función mediante la opción de depuración `CONSTANT_INDEXES`.
{% endhint %}

<script src="../../js/main.min.js"></script>