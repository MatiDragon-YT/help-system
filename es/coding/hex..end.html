<!DOCTYPE html>
<html lang="es">
<head>
  <title>HEX..END</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="../../style/style.css">
</head>
<body>

Sanny Builder admite la escritura de contenido sin formato en un archivo de salida. Todos los valores dentro de esta construcción se escriben en un archivo de salida sin controles.

:::warning
Use esta función solo si sabe lo que está haciendo. Cualquier error corromperá el archivo del script y lo hará ilegible para el juego o un editor de scripts.
:::

## Sintaxis

`HEX`\
`    <cualquier número hexadecimal>`\
`END`

```sb3
hex
    04 00 02 0800 04 01
end
```

Esta secuencia de bytes es la versión compilada del opcode `0004: $2 = 1`, por lo que el juego lo leerá correctamente y establecerá el valor de la variable `$2` en `1`.

Debe especificar cada byte que va a escribir con dos dígitos. Todos los espacios son ignorados. El compilador trata cualquier par de dígitos con un espacio entre ellos como un valor de un solo byte. Un solo dígito (`0..F`) tiene el prefijo `0`. Entonces, por ejemplo, una secuencia de tres letras `A B C` se compilará como el número `0xAB0C`.

El constructor `HEX..END` tambien acepta [cadenas literarias](data-types.md#cadenas-literarias), [etiquetas](data-types.md#etiquetas), [variables globales](variables.md#variables-globales), [nombres de modelos](data-types.md#nombres-de-modelos). Se compilan sin un byte del tipo de datos que los preceda. 

```sb3
:get_offset
hex
    04 00 02 $PLAYER_CHAR 01 @get_offset
end
```

Esta es la copia exacta del opcode `0004: $PLAYER_CHAR = @get_offset`

Una cadena literal encerrada entre comillas dobles se compila como una secuencia de caracteres.

```sb3
hex
    "Esto es una cadena"
end
```

## Secuencias de Escape

Las siguientes secuencias de escape son compatibles con un literal de cadena:

|Nombre|Secuencias de Escape|Forma de byte|
|-|
|Nulo|\0|00|
|Backspace|\b|08|
|Tabulador|\t|09|
|Salto de línea|\n|0A|
|Retorno de carril|\r|0D|
|Escape de número|\x`nn`|`nn`|
|Escape de carácter|\`char`|`char`|

```sb3
hex
    "\0\b\t\n\r\xDD"
end
```

Produce la siguiente secuencia de bytes: `00 08 09 0A 0D DD`.

Actualmente, varios espacios en un literal de cadena se convierten en uno solo. Así, una línea `"Esto    es  una     cadena"` se convierte en `"Esto es una cadena"`. Use el carácter de barra invertida `\` para agregar múltiples espacios en un literal de cadena: `"Esta \ \ \ es \ una \ \ \ \ cadena"`.

## Uso de Números de aDMA

También puede usar el tipo de datos [aDMA](data-types.md#variables) para escribir una constante numérica en un archivo de salida. El número después del signo `&` puede ser positivo o negativo, decimal o hexadecimal.

```sb3
hex
    &1000 &-0xA33500 
end
```

Este ejemplo produce la siguiente secuencia de bytes: `E8 03 00 CB 5C FF`.

<script src="../../js/main.min.js"></script>