<!DOCTYPE html>
<html lang="ru">
<head>
  <title>Дополнительные команды</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="../../style/style.css">
</head>
<body>

В компилятор встроено несколько дополнительных команд, которые позволяют [упростить](https://ru.wikipedia.org/wiki/%D0%A1%D0%B8%D0%BD%D1%82%D0%B0%D0%BA%D1%81%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%B9_%D1%81%D0%B0%D1%85%D0%B0%D1%80) некоторые конструкции.

## INC

Прибавляет к значению [переменной](variables.md) (первый параметр) число (второй параметр):

```sb3
Inc($IntVariable, $Value)
=
$IntVariable += $Value
```

Второй параметр по умолчанию равен `1`.

```sb3
Inc(1@)
=
1@ += 1
```

Начиная с версии 3.06 можно использовать оператор инкремента `++`. Он пишется после имени переменной и увеличивает ее значение на `1`.

```sb3
$var++
=
$var += 1
```

## DEC

Вычитает из значения [переменной](variables.md) (первый параметр) число (второй параметр):

```sb3
Dec($IntVariable, $Value)
=
$IntVariable -= $Value
```

Второй параметр по умолчанию равен `1`.

```sb3
Dec(1@)
=
1@ -= 1
```

Начиная с версии 3.06 можно использовать оператор декремента `--`. Он пишется после имени переменной и уменьшает ее значение на `1`.

```sb3
$var--
=
$var -= 1
```

## MUL

Умножает значение [переменной](variables.md) (первый параметр) на число (второй параметр):

```sb3
Mul($IntVariable, $Value)
=
$IntVariable = $IntVariable * $Value
```

Второй параметр по умолчанию равен `2`.

```sb3
Mul(1@)
=
1@ = 1@ * 2
```

## DIV

Делит значение [переменной](variables.md) (первый параметр) на число (второй параметр):

```sb3
Div($IntVariable, $Value)
=
$IntVariable = $IntVariable / $Value
```

Второй параметр по умолчанию равен `2`.

```sb3
Div(1@)
=
1@ = 1@ / 2
```

## ALLOC 

Эта функция задает адрес для [глобальной переменной](variables.md#globalnye-peremennye), по которому она будет хранить свое значение. Значения переменных хранятся в начале файла `main.scm`.

Применять эту команду следует только к переменным с текстовым именем (например, `$text`). Для переменных с числовым именем (т.н. [`DMA`-переменные](variables.md#globalnye-peremennye)) их адрес определяется самим этим числом. Например, переменная `$40` хранит свое значение по смещению `160` (40*4).

Первый параметр должен быть глобальной переменной, второй - целым числом больше либо равным нулю.

```sb3
Alloc($MyVar, 40) - переменная $MyVar будет скомпилирована как $40
```

{% hint style="info" %}
См. также `help\examples\alloc.txt`
{% endhint %}

## SQR

Умножает переменную на саму себя

```sb3
sqr($var) 
=
$var *= $var
```

{% hint style="info" %}
Тип переменной должен быть [объявлен](variables.md#konstrukciya-var-end).
{% endhint %}

## RANDOM

Эта функция возвращает случайное число в заданном интервале:

```sb3
$rnd = random(1, $high)
```

Может использоваться как для целых, так и для дробных чисел. Конечный опкод зависит от [типа](variables.md#konstrukciya-var-end) переменной, в которую записывается результат (`$rnd`).

<script src="../../js/main.min.js"></script>