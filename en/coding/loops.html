<!DOCTYPE HTML>
<html>
<head>
  <title>Loops</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link rel="stylesheet" type="text/css" href="../../style/style.css">
</head>
<body>
<script src="../../js/partial/header.js"></script>
<p>

<h2>Loops</h2>
<p>A loop is a statement which allows code to be repeatedly executed. Sanny Builder supports three kinds of controls loops: <a href="#REPEAT..UNTIL">repeat</a>, <a href="#WHILE..END">while</a>, <a href="#FOR..END">for</a>.</p>
<h3><a name="FOR..END"></a>FOR loop</h3>

<p>The FOR loop has a strictly certain number of iterations (repetitions).</p>
<p>Syntax:<br>
FOR &lt;loop variable&gt; = &lt;initial value&gt; TO/DOWNTO &lt;final value&gt; [step = 1]<br>
&lt;the loop body&gt;<br>
END</p>

<p><b>&lt;loop variable&gt;</b> - a variable used as a counter for iterations</p>
<p><b>&lt;initial value&gt;</b> - a starting value of the loop variable (any value including a model identifier)</p>
<p><b>TO/DOWNTO</b>- increment or decrement the loop variable between iterations</p>
<p><b>&lt;final value&gt;</b> - a final value of the loop variable when finished (any value including a model identifier)</p>
<p><b>&lt;step&gt;</b> - an optional value the loop variable will be incremented or decremented with between iterations. By default its value is equal to 1.</p>
<p>Example:</p>
<pre>var
$value: int = 0
$final: int = 100
end

FOR $MyCounter = 1 to $final step 2
$value += $mycounter
end</pre>

<p class='note'>If the starting/final values or a step value contained in variables, these variables will get the same type the loop variable has. If the loop variable is not declared with any type before using in a loop it gets an integer type. In order to use the floating-point values as the FOR loop ranges, declare the loop variable with the float type.</p>
<p>Example:</p>
<pre>var
$MyCounter: float
end

FOR $MyCounter = 1.0 to $final step 2.0
end</pre>
<p>Variables $MyCounter and $final both have the Float type after the loop.</p>

<h3><a name="WHILE..END"></a>WHILE loop</h3>
<p>Syntax:<br>
WHILE &lt;loop condition&gt;<br>
&lt;the loop body&gt;<br>
END</p>
<p>Example:</p>
<pre>while not #AK47.Available
wait 0
end</pre>
<p>The WHILE loop is working until the loop condition returns true. The condition is evaluated before the loop iterations. Hence, if the condition is false, the statement sequence is never executed.</p>
<pre>$var = 10

while $var > 11
inc($var)
end</pre>

<p>As the condition $var > 11 is false, the command inc($var) will never be executed.</p>

<p>Constants true and false are valid for the use as the loop condition.</p>
<pre>while true
&lt;the loop body&gt;
end</pre>
<p>This loop's body executes infinitely until the loop stopped with the command Break.</p>
<pre>while false
&lt;the loop body&gt;
end</pre>
<p>This loop is ignored by the compiler as the condition is never evaluated.</p>
<p>Currently the compiler accepts only one condition to be checked in the loop condition, but you can check more conditions within the loop body and use the commands Break and Continue.</p>

<h3><a name="REPEAT..UNTIL"></a>REPEAT..UNTIL loop</h3>

<p>Syntax:<br>
REPEAT<br>
&lt;the loop body&gt;<br>
UNTIL &lt;loop condition&gt;</p>
<p>The repeat..until loop executes until the loop condition returns False. The condition is evaluated after iteration therefore the loop is guaranteed to be executed at least once.</p>

<p>Constants true and false are valid for the use as the loop condition.</p>

<p>repeat..until true - the loop has the only iteration.</p>
<p>repeat..until false - the loop executes infinitely until it's stopped with the Break command.</p>
<p>Currently the compiler accepts only one condition to be checked in the loop condition, but you can check more conditions within the loop body and use the commands Break and Continue.</p>

<h3><a name="CONTINUE"></a><a name="BREAK"></a>Continue and Break</h3>
<p>If you want to skip the current iteration and proceed to the next one, use the Continue command. The Break command causes the loop immediately to stop and proceed to the command after the loop body.</p>
<p>They can be used as an opcode parameter (for example, jf continue) or a separate single command.</p>
<p>Example:</p>
<pre>if
    $currentactor.dead
jf Break // exit from the loop

if
    not $currentactor.dead
then
   Continue // goes next iteration
end
</pre>

</p>
<script src="../../js/partial/footer.js"></script>
