<!DOCTYPE HTML>
<html>
<head>
  <title>Variables</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link rel="stylesheet" type="text/css" href="../../style/style.css">
</head>
<body>
<script src="../../js/partial/header.js"></script>
<p>
<h2>Variables</h2>

<p>A variable (var) is a named storage location that contains a value and can be read/rewrite many times. There are two kinds of variables:<br>

<h3>Global variables</h3>
Global variables are denoted by a $ (dollar sign, before a name identifier). A global variable name is any combination of letters, underscores, and digits:
<p class="note">$variable1 $100 $____</p>
Their values are available from any place of a code.
<h3>Local variables</h3>
Local variables are denoted by a @ (AT sign, after a name identifier). A local variable name can only include digits:
<p class="note">0@ 999@ 56@</p>
Their values are available only within the current thread or mission.</p>

<p>Threads, external scripts and CLEO scripts each have a limited set of local variables. These sets include variables from 0@ to 33@ in San Andreas and from 0@ to 17@ in GTA 3 and VC. SA missions have a bigger set than usual. They use local variables in range from 0@ to 1023@.</p>

<h3><a name="VAR_END"></a>VAR..END construct</h3>
<p>Variables are commonly used in expressions. If the right operand is a number constant, an opcode is not needed:

<pre>$var = 0
$myarray($index, 10i) >= 150</pre></p>

<p>If both operands in an expression are variables, the compiler can not detect a correct opcode, because of unknown type of the variables.
<p>For example, there are two opcodes for incrementing a variable value by another value: 0058 and 0059, one for the integer values and another one for the floating-point values.</p>
<pre>0058: $Var1 += $Var2 // (int)
0059: $Var1 += $Var2 // (float)</pre>
Assuming there is no opcode, which one to use?
<pre>$Var1 += $Var2 // ??</pre>
</p>
In order to define a variable type, there is a specific construct.</p>

<p>VAR..END construct allows to declare variables and their types for advanced use.</p>

<p>Syntax:<br>
var<br>&lt;var name&gt;: &lt;type&gt;<br>end</p>

<p>For example, if both variables were declared, the compiler correctly processes expressions without opcodes:</p>

<pre>var
$Var1 : Integer
$Var2 : Integer
end
$Var1 += $Var2 // opcode 0058</pre>

<a name="type"></a><p>The following types of variables are supported:</p>
	<ul>
	<li>Integer, Int - integer values</li>
	<li>Float - floating-points values</li>
	<li>String, ShortString - a variable containing a string literal with the fixed length (only for arrays, use s$, @s for variables)</li>
	<li>LongString - a variable containing a string literal with the variable length (only for arrays, use v$, @v for variables)</li>
	<li>&lt;Class name&gt; - any available <a href="classes.html">class name</a></li>
	</ul>

<p>Local variables can be declared too.</p>

<p>Take a note that a declared variable will have the same type in every thread. So, you can redeclare variables to set the new types:</p>

<pre>thread 'Food'
var
10@ : Float
$Var : Float
end
$var = 1
10@ = $Var
end_thread

thread 'Loop'
var
10@ : Int
$Var : Int
end
$var = 1
10@ = $Var
end_thread</pre>

<p>In the thread named "Food" 10@ is the floating-point variable. In the one named "Loop" 10@ is the integer variable.</p>

<p>You can redeclare variables as many times as you need.</p>

<h3>Short form of Declaration</h3>
<p>Since v3.2.0 it's possible to declare a variable of a built-in type (Int, Float, String, LongString) shortly using the type name.</p>
<p>Syntax:<br> &lt;type&gt;&nbsp;&lt;variable name&gt;</p>
<pre>int 0@ // 0@ declared as an integer variable.</pre>

<h3>Variable Initialization</h3>
<p>Also you can set an initial value for the variable when declaring it. Write symbol = and then the initial value:</p>

<pre>var
$fVar: float = 1.0
end
</pre>
or
<pre>float $fVar = 1.0</pre>
<p>Variable $fVar declared as Float and also the compiler will add an opcode in the script:</p>

<pre>0005: $fVar = 1.0</pre>

<p>Initialization is allowed for the variables only, not for arrays.</p>

</p>
<script src="../../js/partial/footer.js"></script>
